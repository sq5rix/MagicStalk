#:kivy 1.0.9

<Label>:
    font_size: self.height / 4
<Button>:
    font_size: self.height / 4
<TextInput>:
    font_size: self.height / 4

<MainScreen>:
    id: main_screen
    AnchorLayout:
        anchor_x: 'left'
        anchor_y: 'top'
        StackLayout:
            id: stack
            orientation: 'lr-tb'
            cols: 10
            Button:
                size_hint_x: 0.2
                size_hint_y: 0.2
                text: '+'
                on_release: root.manager.current='Flower Screen'


<FlowerScreen>:

    obj_cur_mst: cur_mst
    obj_avg_mst: avg_mst
    obj_cur_temp: cur_temp
    obj_adj_mst: adj_mst
    obj_usb_port: usb_port

    AnchorLayout:
        anchor_x: 'left'
        anchor_y: 'top'
        StackLayout:
            size_hint_x: 0.4
            size_hint_y: 0.1
            orientation: 'lr-tb'
            Label:
                text: 'Flower Name'
            TextInput:
                id: text_input
                multiline: False
                focus: True
                on_text_validate:
                    root.manager.flower_name=self.text
                    root.manager.current='Main Screen'

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'bottom'
        Button:
            text: 'OK'
            size_hint: 0.18, 0.12
            on_release:
                root.manager.flower_name=root.manager.flower_screen.ids.text_input.text
                root.manager.current='Main Screen'

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'top'
        GridLayout:
            cols: 2
            size_hint: 0.5, 0.7
            Label:
                text: 'Current Moisture'
            Label:
                id: cur_mst
                text: ''
            Label:
                text: 'Average Moisture'
            Label:
                id: avg_mst
                text: ''
            Label:
                text: 'Temperature'
            Label:
                id: cur_temp
                text: ''
            Label:
                text: 'Adjusted Moisture'
            Label:
                id: adj_mst
                text: ''
            Label:
                text: 'USB Port'
            Label:
                id: usb_port
                text: 'None'


<Manager>:
    id: screen_manager

    main_screen: main_screen
    flower_screen: flower_screen

    MainScreen:
        id: main_screen
        name: "Main Screen"
        manager: screen_manager

    FlowerScreen:
        id: flower_screen
        name: "Flower Screen"
        manager: screen_manager


